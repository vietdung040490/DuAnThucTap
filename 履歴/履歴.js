let eventsArray = [
    {
        timeCount: 1,
        time: "Du Lieu Moi Nhat page 1 2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 2,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 3,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 4,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 5,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 6,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 7,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 8,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 9,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 10,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 11,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 12,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 13,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 14,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 15,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 16,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 17,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    },
    {
        timeCount: 18,
        time: "page 2 2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 19,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 20,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 21,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 22, time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 23,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 24,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 25,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 26,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 27,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 28,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 29,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 30,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 31,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 32,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 33,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 34,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 35,
        time: "     page 3      2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 36,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 37,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 38,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 39,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 40,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 41,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 42,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 43,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 44,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 45,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 46,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 47,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 48,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 49,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 50,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 51,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 52,
        time: "page 4 2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 53,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 54,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 55,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 56,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 57,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 58,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 59,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 60,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 61,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 62,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 63,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 64,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 65,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 66,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 67,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 68,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 69,
        time: "Du Lieu Cu Nhat page 5 2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 70,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 71,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 72,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 73,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 74,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 75,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }, {
        timeCount: 76,
        time: "2022/08/26 23:00:00",
        kind: "種別",
        device: "PC",
        content: "ログイン"
    }

];

let currentEventsPerPage = [];
let currentPage = 1;
let perPage = 17;
let totalPages = Math.ceil(eventsArray.length / perPage);


renderEvents = (currentPage, array) => {
    currentEventsPerPage = array.slice(
        (currentPage - 1) * perPage,
        (currentPage - 1) * perPage + perPage);

    // let events = currentEventsPerPage.map((event) => `<tr>
    //                 <td>${event.time}</td>
    //                 <td>${event.kind}</td>
    //                 <td>${event.device}</td>
    //                 <td>${event.content}</td>
    //                 </tr>`
    // ).join('');

    let events = '';
    // let count = 0;
    for (let i = 0; i < currentEventsPerPage.length; i++) {
        // count = Math.ceil(Math.random() * 10);
        events += `<tr>
                       <td>${currentEventsPerPage[i].time}</td>
                       <td>${currentEventsPerPage[i].kind}</td>
                       <td>${currentEventsPerPage[i].device}</td>
                        <td>${currentEventsPerPage[i].content}</td>
                        </tr>`;
    }

    document.getElementById('getData').innerHTML = events;
    document.getElementById('currentPageNumber').innerHTML = `${currentPage}/${totalPages}`
}

// previos page
handlePreviosPage = () => {
    currentPage = currentPage - 1;
    if (currentPage > 0) {
        renderEvents(currentPage, eventsArray);
    } else if (currentPage == 0) {
        currentPage = currentPage + 1;
        renderEvents(currentPage, eventsArray);
    }
}

// nextpage
handleNextPage = () => {
    currentPage = currentPage + 1;
    if (currentPage > 0 && currentPage <= totalPages) {
        renderEvents(currentPage, eventsArray);
    } else if (currentPage > totalPages) {
        currentPage = currentPage - 1;
        renderEvents(currentPage, eventsArray);
    }
}

// 
handleFirstPage = () => {
    currentPage = 1;
    renderEvents(currentPage, eventsArray);
}

handleLastPage = () => {
    currentPage = totalPages;
    renderEvents(currentPage, eventsArray);
}

// sắp xếp page mới đến cũ
handleLatestEvents = () => {
    let latestEvents = eventsArray.sort((a, b) => a.timeCount - b.timeCount)
    renderEvents(currentPage, latestEvents);
}

//sắp xếp cũ đến mới
handleOldestEvents = () => {
    let oldestEvents = eventsArray.sort((a, b) => b.timeCount - a.timeCount)
    renderEvents(currentPage, oldestEvents);
}

renderEvents(currentPage, eventsArray);